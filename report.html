<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>UKSS ‚Äî Student Report</title>
  <link rel="stylesheet" href="./style.css" />

  <style>
    body{
      background:#020617;
    }
    .report-shell{
      max-width:900px;
      margin:0 auto;
    }
    .report-page{
      background:#fff;
      color:#000;
      padding:18px 22px;
      border-radius:8px;
      box-shadow:0 10px 30px rgba(0,0,0,0.35);
      font-family: "Times New Roman", serif;
      font-size:12px;
    }
    .rep-header{
      text-align:center;
      margin-bottom:6px;
      text-transform:uppercase;
    }
    .rep-header h2{
      margin:0;
      font-size:14px;
      font-weight:bold;
    }
    .rep-header h3{
      margin:2px 0;
      font-size:13px;
      font-weight:bold;
    }
    .rep-meta-row{
      display:flex;
      justify-content:space-between;
      font-size:11px;
      margin:4px 0;
    }
    .rep-meta-row div{
      width:48%;
    }
    .rep-table{
      width:100%;
      border-collapse:collapse;
      margin-top:6px;
      font-size:11px;
    }
    .rep-table th,
    .rep-table td{
      border:1px solid #000;
      padding:3px 4px;
    }
    .rep-table th{
      text-align:center;
      background:#e5e5e5;
    }
    .rep-table td.num{
      text-align:center;
    }
    .rep-section-title{
      font-weight:bold;
      margin-top:6px;
      text-decoration:underline;
      font-size:11px;
    }
    .rep-flex{
      display:flex;
      justify-content:space-between;
      font-size:11px;
      margin-top:4px;
    }
    .rep-box{
      border:1px solid #000;
      padding:4px 6px;
      min-height:40px;
      margin-top:3px;
    }
    .rep-sign-row{
      display:flex;
      justify-content:space-between;
      margin-top:12px;
      font-size:11px;
    }
    .rep-sign-block{
      width:48%;
    }
    .rep-sign-block .label{
      font-weight:bold;
    }
    .rep-footer{
      margin-top:10px;
      font-size:10px;
      border-top:1px dashed #000;
      padding-top:4px;
    }
    .badge-division{
      display:inline-block;
      padding:2px 6px;
      border-radius:4px;
      border:1px solid #000;
      font-weight:bold;
    }
    .topbar-print{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:10px;
    }
    .topbar-print .btn{
      font-size:12px;
      padding:4px 10px;
    }
    .small-gray{
      color:#94a3b8;
      font-size:12px;
    }

    @media print{
      body{
        background:#fff;
      }
      .app,
      .sidebar{
        display:none;
      }
      .report-shell{
        margin:0;
      }
      .report-page{
        box-shadow:none;
        border-radius:0;
      }
    }
  </style>
</head>
<body>

<div class="app">
  <!-- SIDEBAR (optional, kama hutaki ondoa kabisa) -->
  <aside class="sidebar">
    <div class="brand">
      <div class="brand-badge">UK</div>
      <div>
        <div class="brand-title">UKSS</div>
        <div class="brand-sub">Results Management</div>
      </div>
    </div>

    <nav class="nav">
      <a href="marks.html">üè† Marks</a>
      <a href="results.html">üìÑ Results</a>
      <a href="ranking.html">üèÜ Ranking</a>
      <a href="behaviour.html">üß≠ Behaviour</a>
      <a href="sms.html">üì® SMS</a>
      <a href="sms_logs.html">üßæ SMS Logs</a>
      <a href="admin.html">üîê Admin</a>
    </nav>
  </aside>

  <!-- MAIN -->
  <main class="main">
    <div class="report-shell">

      <div class="topbar-print">
        <div>
          <h2 style="margin:0;font-size:16px;">Student Report Form</h2>
          <p id="repExamLabel" class="small-gray"></p>
        </div>
        <div>
          <button class="btn btn-ghost" onclick="window.history.back()">‚Ü© Back</button>
          <button class="btn btn-primary" onclick="window.print()">üñ® Print</button>
        </div>
      </div>

      <div id="reportStatus" class="status-bar status-info hidden">Loading report...</div>

      <div id="reportPage" class="report-page" style="display:none;">
        <!-- HEADER -->
        <div class="rep-header">
          <div style="font-size:11px;">THE PRESIDENT'S OFFICE, REGIONAL ADMINISTRATION AND LOCAL GOVERNMENT</div>
          <div style="font-size:11px;" id="repCouncil">MERU DISTRICT COUNCIL</div>
          <h2 id="repSchoolName">UMOJA KING'ORI SECONDARY SCHOOL</h2>
          <div style="font-size:11px;">RIPOTI YA MAENDELEO YA KITAALUMA KIDATO CHA KWANZA HADI CHA NNE</div>
          <h3 id="repExamTitle">ANNUAL EXAMINATION REPORT</h3>
        </div>

        <!-- CONTACT INFO -->
        <div class="rep-meta-row">
          <div>
            Simu: <span id="repSchoolPhone">0754 418250</span><br/>
            Email: <span id="repSchoolEmail">umoja.kingori@yahoo.com</span>
          </div>
          <div style="text-align:right;">
            S.L.P <span id="repSchoolBox">17075</span><br/>
            Tarehe: <span id="repDate">-</span>
          </div>
        </div>

        <!-- STUDENT INFO -->
        <div class="rep-meta-row" style="border-top:1px solid #000;border-bottom:1px solid #000;padding:3px 0;margin-top:4px;">
          <div>
            KWA MZAZI WA: <span id="repParentName">...........................</span><br/>
            Mwanafunzi: <span id="repStudentName">...........................</span>
          </div>
          <div>
            Kidato: <span id="repForm">FORM I</span><br/>
            Mkondo: <span id="repStream">A</span> &nbsp; Adm No: <span id="repAdmNo">---</span>
          </div>
        </div>

        <!-- SUBJECT TABLE -->
        <table class="rep-table">
          <thead>
          <tr>
            <th>No</th>
            <th>Somo</th>
            <th>Alama</th>
            <th>Daraja</th>
            <th>Maoni</th>
          </tr>
          </thead>
          <tbody id="repSubjectsBody">
          <tr><td colspan="5">Loading subjects...</td></tr>
          </tbody>
        </table>

        <!-- SUMMARY -->
        <div class="rep-section-title">A. Tathmini ya Ufaulu</div>
        <div class="rep-flex">
          <div>
            Jumla ya alama zake: <strong><span id="repTotalMarks">0</span></strong><br/>
            Wastani wa Alama zake: <strong><span id="repAverage">0</span></strong>
          </div>
          <div>
            Nafasi ya ufaulu darasani: <strong><span id="repPosition">-</span></strong> kati ya
            <strong><span id="repClassSize">-</span></strong><br/>
            Division: <span id="repDivision" class="badge-division">-</span>
          </div>
        </div>

        <!-- TABIA NA MAENDELEO -->
        <div class="rep-section-title">B. Tabia na Maendeleo ya Mwanafunzi</div>
        <div class="rep-box" id="repBehaviourBox">
          <!-- unaweza kujaza kutoka behaviour collection baadaye -->
          Tabia kwa ujumla: <span id="repBehaviourSummary">Mzuri</span>.
        </div>

        <!-- MAONI YA WALIMU -->
        <div class="rep-section-title">C. Maoni ya Waalimu</div>
        <div class="rep-box">
          <strong>Mwalimu wa Darasa:</strong> <span id="repClassTeacher">__________</span><br/>
          Maoni: <span id="repTeacherComment">Wastani wako ni wa kati, ongeza juhudi kufikia daraja la juu zaidi.</span>
        </div>

        <div class="rep-section-title">D. Maoni ya Mwalimu Mkuu</div>
        <div class="rep-box">
          <strong>Mwalimu Mkuu:</strong> <span id="repHeadName">________________</span><br/>
          Maoni: <span id="repHeadComment">Naipongeza juhudi uliyoonyesha. Endelea kuzingatia masomo na nidhamu.</span>
        </div>

        <!-- SIGNATURES -->
        <div class="rep-sign-row">
          <div class="rep-sign-block">
            <div class="label">Tarehe ya kufunga shule:</div>
            <div><span id="repClosingDate">______________</span></div>
            <div class="label" style="margin-top:6px;">Tarehe ya kufungua shule:</div>
            <div><span id="repOpeningDate">______________</span></div>
          </div>
          <div class="rep-sign-block">
            <div class="label">Sahihi ya Mwalimu wa Darasa:</div>
            <div>________________________</div>
            <div class="label" style="margin-top:6px;">Sahihi ya Mwalimu Mkuu:</div>
            <div>________________________</div>
          </div>
        </div>

        <!-- FOOTER -->
        <div class="rep-footer">
          ZINGATIA: <em>Kipande hiki cha ripoti kirudishwe shuleni kilichosainiwa na mzazi/mlezi katika kikao cha kwanza.</em><br/>
          Maoni ya Mzazi/Mlezi: _______________________________________________
        </div>
      </div>
    </div>
  </main>
</div>

<!-- Firebase v8 -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

<script src="./js/database.js"></script>
<script src="./js/report.js"></script>
</body>
</html>


